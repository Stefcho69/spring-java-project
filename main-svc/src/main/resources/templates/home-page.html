<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <meta charset="UTF-8">
  <title>Shop — Home</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    /* Home page styles — polished, modern shop look */
:root{
    --bg:#0f1724; /* deep navy */
    --card:#0b1220;
    --accent:#ff6b6b; /* warm coral */
    --accent-2:#6bc1ff; /* cool cyan */
    --muted:rgba(255,255,255,0.7);
    --glass: rgba(255,255,255,0.04);
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}
body{background: linear-gradient(180deg, #071024 0%, #0b1220 100%); color:var(--muted);}

.site-header{
    padding:22px 40px 12px;
    background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
    border-bottom: 1px solid rgba(255,255,255,0.03);
    position:sticky;top:0;z-index:10;
}
.header-inner{display:flex;align-items:center;justify-content:space-between;gap:20px;max-width:1200px;margin:0 auto}
.brand{display:flex;flex-direction:column}
.logo{font-weight:800;color:white;text-decoration:none;font-size:20px}
.tag{font-size:12px;color:rgba(255,255,255,0.65)}

.nav{display:flex;gap:10px}
.nav-btn{padding:8px 14px;border-radius:8px;text-decoration:none;color:var(--muted);border:1px solid transparent;background:transparent}
.nav-btn.logout{border:1px solid rgba(255,255,255,0.04)}
.nav-btn:hover{background:var(--glass);color:white}

.search-row{display:flex;gap:12px;justify-content:center;margin-top:14px;max-width:1200px;margin-left:auto;margin-right:auto}
.search-input{flex:1;min-width:220px;padding:12px 14px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);background:rgba(255,255,255,0.02);color:var(--muted);outline:none}
.sort-select{padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);background:rgba(255,255,255,0.02);color:var(--muted)}

.main{max-width:1200px;margin:30px auto;display:grid;grid-template-columns:220px 1fr;gap:24px;padding:0 20px}

.sidebar{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
.sidebar h3{margin:0 0 12px 0;color:#fff}
.sidebar ul{list-style:none;padding:0;margin:0}
.sidebar li{margin:8px 0}
.sidebar a{text-decoration:none;color:var(--muted);font-size:14px}
.sidebar a:hover{color:white}

.products{ }
.products-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:20px}

.card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:14px;overflow:hidden;border:1px solid rgba(255,255,255,0.03);display:flex;flex-direction:column;transition:transform .18s ease, box-shadow .18s ease}
.card:hover{transform:translateY(-6px);box-shadow:0 10px 30px rgba(2,6,23,0.6)}
.media{height:160px;background:linear-gradient(135deg, rgba(107,193,255,0.06), rgba(255,107,107,0.04));display:flex;align-items:center;justify-content:center}
.media img{max-width:100%;max-height:100%;object-fit:contain}

.card-body{padding:14px 16px 18px;display:flex;flex-direction:column;flex:1}
.product-name{margin:0 0 8px 0;color:white;font-size:16px}
.meta-row{display:flex;align-items:center;gap:8px;margin-bottom:auto}
.quality{background:linear-gradient(90deg,var(--accent),var(--accent-2));padding:6px 10px;border-radius:999px;color:white;font-weight:600;font-size:12px}
.badge{font-size:12px;color:rgba(255,255,255,0.75);padding:6px 8px;border-radius:8px;background:rgba(255,255,255,0.02)}

.actions{display:flex;gap:8px;margin-top:12px}
.btn-outline{padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);text-decoration:none;color:var(--muted);font-size:13px}
.btn-primary{padding:8px 12px;border-radius:10px;border:none;background:linear-gradient(90deg,var(--accent),#ff8b8b);color:white;font-weight:700;cursor:pointer}
.btn-primary:hover{filter:brightness(1.03)}

.empty{grid-column:1/-1;text-align:center;padding:40px;color:rgba(255,255,255,0.6)}

.site-footer{max-width:1200px;margin:40px auto;color:rgba(255,255,255,0.45);text-align:center;padding:20px 0}

/* Responsive */
@media (max-width:900px){
    .main{grid-template-columns:1fr;}
    .sidebar{order:2}
}

  </style>
</head>
<body>
<header class="site-header">
  <div class="header-inner">
    <div class="brand">
      <a th:href="@{/}" class="logo">FastShop</a>
      <span class="tag">Low prices · Lightning delivery</span>
    </div>

    <nav class="nav">
      <a class="nav-btn" th:href="@{/info}">Info</a>
      <a class="nav-btn logout" th:href="@{/logout}">Logout</a>
      <a class="nav-btn logout" th:href="@{/profile}">Profile</a>
      <a class="nav-btn logout" th:href="@{/role-request}">Request</a>

        <a   th:if="${#authorization.expression('hasAuthority(''ADMIN'')')}"
             class="nav-btn logout" th:href="@{/product/create}">Create Product</a>


    </nav>
  </div>

  <div class="search-row">
    <input id="search" class="search-input" type="search" placeholder="Search products..." />
    <select id="sort" class="sort-select">
      <option value="new">Newest</option>
      <option value="quality">Quality</option>
      <option value="name">Name</option>
    </select>
  </div>
</header>

<main class="main">
  <section class="sidebar">
    <h3>Categories</h3>
    <ul>
      <li><a th:href="@{/all}">All</a></li>
    </ul>
  </section>

  <section class="products">
    <div class="products-grid">

      <div class="card" th:each="product : ${products}">

        <div class="card-body">
          <h4 class="product-name" th:text="${product.name}">Product Name</h4>
          <div class="meta-row">
            <span class="quality" th:text="${'Quality: ' + product.quality}">Good</span>
            <span class="badge" th:text="'Price: ' + ${product.price} + '$'">Price</span>
          </div>
          <div class="actions">

            <span class="badge" >Ordered and delivering...</span>
          </div>
        </div>
      </div>

      <div class="empty" th:if="${#lists.isEmpty(products)}">
        <p>No products found. Try <a th:href="@{/}">refreshing</a> or check back later.</p>
      </div>
    </div>
  </section>
</main>

<footer class="site-footer">
  <div>© <span th:text="${T(java.time.Year).now()}">2025</span> FastShop — Low prices, fast delivery</div>
</footer>

<script>
  (function(){
      const search = document.getElementById('search');
      search && search.addEventListener('input', function(){
          const q = this.value.toLowerCase();
          document.querySelectorAll('.products-grid .card').forEach(card => {
              const name = card.querySelector('.product-name').innerText.toLowerCase();
              card.style.display = name.includes(q) ? '' : 'none';
          });
      });
  })();
</script>
</body>
</html>
